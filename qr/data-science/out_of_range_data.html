<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Out of Range Data* - Quick Reference</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Quick Reference</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="how-to-deal-with-out-of-range-data"><a class="header" href="#how-to-deal-with-out-of-range-data">How to Deal with Out-of-Range Data</a></h1>
<p>Out-of-range data refers to values that fall outside the expected or acceptable range for a given feature. These values can occur due to data entry errors, system glitches, or real but rare events. Handling such values appropriately is critical for ensuring robust and accurate models or analyses.</p>
<hr />
<h3 id="1-dropping-data"><a class="header" href="#1-dropping-data">1. Dropping Data</a></h3>
<p>Removing rows that contain out-of-range values.</p>
<p><strong>Pros:</strong></p>
<ul>
<li>Simple and effective if few data points are affected.</li>
<li>Ensures only valid data is used in analysis.</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>May lead to information loss, especially if the affected proportion is high.</li>
<li>Can introduce bias if the removed data is not missing at random.</li>
</ul>
<p><strong>Rule of Thumb:</strong>
Only drop rows when a <strong>small proportion</strong> (e.g., &lt; 5%) of your dataset contains out-of-range values.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-python">df = df[df['age'] &lt;= 100]  # Remove entries with age &gt; 100
</code></pre>
<h3 id="2-setting-custom-minimums-and-maximums-capping-or-clipping"><a class="header" href="#2-setting-custom-minimums-and-maximums-capping-or-clipping">2. Setting Custom Minimums and Maximums (Capping or Clipping)</a></h3>
<p>Cap values at predefined minimum and maximum thresholds.</p>
<p><strong>Pros:</strong></p>
<ul>
<li>Preserves all data points while limiting the influence of outliers.</li>
<li>Useful for models sensitive to extreme values (e.g., linear regression).</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Can distort the data distribution.</li>
<li>Requires domain knowledge to set appropriate thresholds.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-python">df['income'] = df['income'].clip(lower=0, upper=200_000)
</code></pre>
<h3 id="3-treat-as-missing-and-impute"><a class="header" href="#3-treat-as-missing-and-impute">3. Treat as Missing and Impute</a></h3>
<p>Convert out-of-range values to <code>NaN</code> and handle them using imputation techniques.</p>
<p><strong>Pros:</strong></p>
<ul>
<li>Flexible and model-friendly.</li>
<li>Allows for advanced imputation strategies (e.g., KNN, regression).</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Introduces complexity.</li>
<li>Risk of incorrect imputation if assumptions are wrong.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-python">df.loc[df['temperature'] &lt; -50, 'temperature'] = np.nan
df['temperature'].fillna(df['temperature'].mean(), inplace=True)
</code></pre>
<h3 id="4-setting-custom-values-based-on-business-rules"><a class="header" href="#4-setting-custom-values-based-on-business-rules">4. Setting Custom Values Based on Business Rules</a></h3>
<p>Replace out-of-range values with specific values that reflect domain-specific assumptions.</p>
<p><strong>Pros:</strong></p>
<ul>
<li>Makes data consistent with business logic.</li>
<li>Can enhance interpretability of results.</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Requires clear and justifiable domain rules.</li>
<li>May oversimplify real-world complexity.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-python"># Set to 0 if below minimum viable production
df.loc[df['production'] &lt; 0, 'production'] = 0
</code></pre>
<h3 id="5-binning-or-categorization"><a class="header" href="#5-binning-or-categorization">5. Binning or Categorization</a></h3>
<p>Convert continuous out-of-range values into categorical bins.</p>
<p><strong>Pros:</strong></p>
<ul>
<li>Useful for decision trees or models that handle categories well.</li>
<li>Can handle extreme values gracefully.</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Loss of numeric precision.</li>
<li>Choice of bins affects model performance.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-python">df['age_group'] = pd.cut(df['age'], bins=[0, 18, 65, 100], labels=['child', 'adult', 'senior'])
</code></pre>
<h3 id="6-log-or-other-transformations"><a class="header" href="#6-log-or-other-transformations">6. Log or Other Transformations</a></h3>
<p>Apply transformations to reduce the effect of extreme values rather than removing or capping them.</p>
<p><strong>Pros:</strong></p>
<ul>
<li>Useful for skewed distributions.</li>
<li>Retains the structure of the data.</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>May not be interpretable in business terms.</li>
<li>Zero or negative values can cause issues.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code class="language-python">df['log_income'] = np.log1p(df['income'])  # log(1 + income)
</code></pre>
<hr />
<h3 id="final-thoughts"><a class="header" href="#final-thoughts">Final Thoughts</a></h3>
<p>Choosing the right strategy depends on:</p>
<ul>
<li>The proportion of out-of-range values.</li>
<li>Domain knowledge and business constraints.</li>
<li>The sensitivity of downstream models or analyses to extreme values.</li>
</ul>
<p>When in doubt, <strong>visualize your data</strong>, consult domain experts, and test different approaches to ensure robustness.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../data-science/datasets/datasets.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../data-science/duplicate-values.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../data-science/datasets/datasets.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../data-science/duplicate-values.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
